<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.profit.persist.mapper.stock.FoundMapper">

    <select id="selectList" resultType="org.profit.persist.domain.stock.Found">
        select * from stock_found where code=#{code} AND day BETWEEN #{begin} and #{end} order by day DESC
    </select>

	<select id="selectLastObj" resultType="org.profit.persist.domain.stock.Found">
		select * from stock_found where code=#{code} and day=#{day}
	</select>

    <insert id="insert">
		insert into stock_found (
			code, day, total, min, mid, big, max, turnover
		) values (
			#{code}, #{day}, #{total}, #{min}, #{mid},
			#{big}, #{max}, #{turnover}
		)
	</insert>

	<insert id="insertList" parameterType="java.util.List">
		insert into stock_found (
            code, day, total, min, mid, big, max, turnover
		) values
		<foreach collection="list" item="item" index="index" open="(" separator="),(" close=")">
			#{item.code}, #{item.day}, #{item.total}, #{item.min}, #{item.mid},
			#{item.big}, #{item.max}, #{item.turnover}
		</foreach>
	</insert>

</mapper>